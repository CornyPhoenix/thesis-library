%===============================================================================
% Fixes List of listings
%===============================================================================
\makeatletter
\begingroup\let\newcounter\@gobble\let\setcounter\@gobbletwo
  \globaldefs\@ne \let\c@loldepth\@ne
  \newlistof{listings}{lol}{\lstlistlistingname}
\endgroup
\let\l@lstlisting\l@listings
\let\list@of@listings\listoflistings
\renewcommand{\listoflistings}{%
	\list@of@listings
	\addcontentsline{toc}{chapter}{\lstlistlistingname}}
\AtBeginDocument{\addtocontents{lol}{\protect\addvspace{10\p@}}}
\makeatother
\renewcommand{\lstlistoflistings}{\@latex@error{Please use \noexpand\listoflistings instead}\@ehc}
